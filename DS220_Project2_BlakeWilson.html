<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>ecccc707894c44beb86cd19d3eb4c819</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div id="95de20fe" class="cell markdown">
<h1 id="data-analysis-of-the-nfl-draft-1970---2021-with-python">Data
Analysis of the NFL Draft (1970 - 2021) with Python</h1>
<p><strong>Blake Wilson</strong></p>
<p><strong>DS 220</strong></p>
<p><strong>Date:</strong> May 5, 2025</p>
<p><em>Note 1: Tackles became an officially tracked NFL statistic in
1994, and sacks in 1982</em></p>
<p><em>Note 2: Data of players who have played after 2021 will not be
fully updated</em></p>
</div>
<div id="b7192771" class="cell markdown">
<h3
id="importing-pandas-and-matplotlib-and-loading-the-data-into-the-notebook">Importing
Pandas and MatPlotLib and loading the data into the notebook:</h3>
</div>
<div id="aad28a45" class="cell code" data-execution_count="67">
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">&#39;data/nfl_draft_1970-2021.csv&#39;</span>)</span></code></pre></div>
</div>
<div id="162d58a2" class="cell markdown">
<h3 id="telling-pandas-to-display-all-of-the-columns">Telling Pandas to
display all of the columns:</h3>
</div>
<div id="0bc1d087" class="cell code" data-execution_count="68">
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">&#39;display.max_columns&#39;</span>, <span class="va">None</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>pd.reset_option(<span class="st">&#39;display.max_columns&#39;</span>)</span></code></pre></div>
</div>
<div id="cbf23b16" class="cell markdown">
<h3
id="using-df-to-look-at-the-data-to-see-what-needs-cleaned-up-screenshot-of-before-cleaning">Using
<em>df</em> to look at the data to see what needs cleaned up
*(Screenshot of Before Cleaning)</h3>
<p><img src="Images/image1.png" alt="Data Before Cleaning" /></p>
</div>
<div id="68c3e124" class="cell markdown">
<h3
id="using-dfisnullsum-to-see-how-many-null-cells-there-are-in-each-column-and--100--lendf-to-turn-them-into-percentages-before">Using
df.isnull().sum() to see how many Null Cells there are in each column,
and * 100 / len(df) to turn them into percentages
<strong>(Before)</strong></h3>
<p><img src="images/NullColumnPercents.png"
alt="Null Before Cleaning" /></p>
</div>
<div id="80d791e7" class="cell markdown">
<h2 id="cleaning-the-data">Cleaning the Data</h2>
<h3 id="droprename-columns">Drop/Rename Columns</h3>
<p>When first looking at the data, I noticed a column named 'to' that
gives the year the player left the NFL and wanted to rename it: I also
noticed some of the teams' abbreviations were not the typical
abbreviation, so I fixed that as well.</p>
</div>
<div id="7c7f3719" class="cell code" data-execution_count="69">
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Drop/Rename columns</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>df.rename({<span class="st">&#39;to&#39;</span>: <span class="st">&#39;played_until&#39;</span>}, axis<span class="op">=</span><span class="dv">1</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>team_map <span class="op">=</span> {<span class="st">&#39;TAM&#39;</span>:<span class="st">&#39;TB&#39;</span>,<span class="st">&#39;SFO&#39;</span>:<span class="st">&#39;SF&#39;</span>,<span class="st">&#39;KAN&#39;</span>:<span class="st">&#39;KC&#39;</span>,<span class="st">&#39;GNB&#39;</span>:<span class="st">&#39;GB&#39;</span>,<span class="st">&#39;NOR&#39;</span>:<span class="st">&#39;NO&#39;</span>,<span class="st">&#39;NWE&#39;</span>:<span class="st">&#39;NE&#39;</span>,<span class="st">&#39;PHO&#39;</span>:<span class="st">&#39;PHX&#39;</span>,<span class="st">&#39;SDG&#39;</span>:<span class="st">&#39;SD&#39;</span>}</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;team&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;team&#39;</span>].replace(team_map)</span></code></pre></div>
</div>
<div id="22206138" class="cell markdown">
<h3 id="dealing-with-nans">Dealing with NaNs</h3>
<p><em>Note: Players with null 'played_until' columns get replaced with
0. This indicates players who never got to play in the NFL.</em></p>
<p><em>Note2: Players with null arAV and drAV values also get filled
with 0. This mostly indicates players who never got to play in the
NFL.</em></p>
<ol>
<li>I first needed to fill in the null performance columns (pass_yards,
rush_att, etc.) with 0, so I made a list and used the .fillna(0) command
to fill all null rows in the columns with 0</li>
<li>I filled in the null age rows with the median of the ages</li>
<li>I also filled null college rows with 'unknown'</li>
</ol>
</div>
<div id="86554394" class="cell code" data-execution_count="70">
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Dealing with NaNs</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co">#1. Fill null performance columns with 0:</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>zero_fill <span class="op">=</span> [<span class="st">&#39;games&#39;</span>, <span class="st">&#39;pass_comp&#39;</span>, <span class="st">&#39;pass_att&#39;</span>, <span class="st">&#39;pass_yards&#39;</span>, <span class="st">&#39;pass_tds&#39;</span>, <span class="st">&#39;pass_int&#39;</span>, <span class="st">&#39;rush_att&#39;</span>, <span class="st">&#39;rush_yards&#39;</span>, <span class="st">&#39;rush_tds&#39;</span>, <span class="st">&#39;receptions&#39;</span>, <span class="st">&#39;rec_yards&#39;</span>, <span class="st">&#39;rec_tds&#39;</span>, <span class="st">&#39;interceptions&#39;</span>, <span class="st">&#39;sacks&#39;</span>, <span class="st">&#39;tackles&#39;</span>, <span class="st">&#39;played_until&#39;</span>, <span class="st">&#39;carAV&#39;</span>, <span class="st">&#39;drAV&#39;</span>]</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>df[zero_fill] <span class="op">=</span> df[zero_fill].fillna(<span class="dv">0</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co">#2. Fill age with median</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> [<span class="st">&#39;age&#39;</span>]: </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    df[col].fillna(df[col].median(), inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co">#3. Fill null &#39;college&#39; with &#39;Unknown&#39; </span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> [<span class="st">&#39;college&#39;</span>]:</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    df[col] <span class="op">=</span> df[col].fillna(<span class="st">&#39;Unknown&#39;</span>)</span></code></pre></div>
<div class="output stream stderr">
<pre><code>C:\Users\Blake\AppData\Local\Temp\ipykernel_50660\2926372757.py:8: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing &#39;df[col].method(value, inplace=True)&#39;, try using &#39;df.method({col: value}, inplace=True)&#39; or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df[col].fillna(df[col].median(), inplace=True)
</code></pre>
</div>
</div>
<div id="0814c264" class="cell markdown">
<h3 id="rechecking-the-null-columns-of-the-data">Rechecking the null
columns of the data:</h3>
</div>
<div id="ad67a447" class="cell code" data-execution_count="71">
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df.isnull().<span class="bu">sum</span>() <span class="op">*</span> <span class="dv">100</span> <span class="op">/</span> <span class="bu">len</span>(df)</span></code></pre></div>
<div class="output execute_result" data-execution_count="71">
<pre><code>year             0.0
round            0.0
pick             0.0
team             0.0
player           0.0
position         0.0
age              0.0
played_until     0.0
all_pro          0.0
pro_bowl         0.0
starter          0.0
carAV            0.0
drAV             0.0
games            0.0
pass_comp        0.0
pass_att         0.0
pass_yards       0.0
pass_tds         0.0
pass_int         0.0
rush_att         0.0
rush_yards       0.0
rush_tds         0.0
receptions       0.0
rec_yards        0.0
rec_tds          0.0
interceptions    0.0
sacks            0.0
tackles          0.0
college          0.0
dtype: float64</code></pre>
</div>
</div>
<div id="ac50cca1" class="cell markdown">
<h3 id="converting-columns-to-correct-data-types">Converting columns to
correct data types</h3>
<p>All of the columns I wanted to change were floats that needed to be
an integer, so I made a list and converted them all to integers.</p>
</div>
<div id="6e0ced36" class="cell code" data-execution_count="72">
<div class="sourceCode" id="cb8"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Converting columns to correct data types</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>int_cols <span class="op">=</span> [<span class="st">&#39;age&#39;</span>, <span class="st">&#39;played_until&#39;</span>, <span class="st">&#39;carAV&#39;</span>, <span class="st">&#39;drAV&#39;</span>, <span class="st">&#39;games&#39;</span>, <span class="st">&#39;pass_comp&#39;</span>, <span class="st">&#39;pass_att&#39;</span>, <span class="st">&#39;pass_yards&#39;</span>, <span class="st">&#39;pass_tds&#39;</span>, <span class="st">&#39;pass_int&#39;</span>, <span class="st">&#39;rush_att&#39;</span>, <span class="st">&#39;rush_yards&#39;</span>, <span class="st">&#39;rush_tds&#39;</span>, <span class="st">&#39;receptions&#39;</span>, <span class="st">&#39;rec_yards&#39;</span>, <span class="st">&#39;rec_tds&#39;</span>, <span class="st">&#39;interceptions&#39;</span>]</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> int_cols:</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    df[col] <span class="op">=</span> df[col].astype(<span class="bu">int</span>)</span></code></pre></div>
</div>
<div id="1920f0f1" class="cell code" data-execution_count="73">
<div class="sourceCode" id="cb9"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Checking Column Data Types</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>df.dtypes</span></code></pre></div>
<div class="output execute_result" data-execution_count="73">
<pre><code>year               int64
round              int64
pick               int64
team              object
player            object
position          object
age                int64
played_until       int64
all_pro            int64
pro_bowl           int64
starter            int64
carAV              int64
drAV               int64
games              int64
pass_comp          int64
pass_att           int64
pass_yards         int64
pass_tds           int64
pass_int           int64
rush_att           int64
rush_yards         int64
rush_tds           int64
receptions         int64
rec_yards          int64
rec_tds            int64
interceptions      int64
sacks            float64
tackles          float64
college           object
dtype: object</code></pre>
</div>
</div>
<div id="7659d903" class="cell markdown">
<h3 id="checking-for-duplicates-there-were-none">Checking for duplicates
(There were none)</h3>
</div>
<div id="b87ef152" class="cell code" data-execution_count="74">
<div class="sourceCode" id="cb11"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Check for duplicates</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>df.loc[df.duplicated(keep<span class="op">=</span><span class="va">False</span>)]</span></code></pre></div>
<div class="output execute_result" data-execution_count="74">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>round</th>
      <th>pick</th>
      <th>team</th>
      <th>player</th>
      <th>position</th>
      <th>age</th>
      <th>played_until</th>
      <th>all_pro</th>
      <th>pro_bowl</th>
      <th>...</th>
      <th>rush_att</th>
      <th>rush_yards</th>
      <th>rush_tds</th>
      <th>receptions</th>
      <th>rec_yards</th>
      <th>rec_tds</th>
      <th>interceptions</th>
      <th>sacks</th>
      <th>tackles</th>
      <th>college</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
<p>0 rows × 29 columns</p>
</div>
</div>
</div>
<div id="a140338d" class="cell markdown">
<h3 id="checking-df-after-cleaning">Checking <em>df</em> after
cleaning:</h3>
</div>
<div id="7c3bdcf8" class="cell code" data-execution_count="75">
<div class="sourceCode" id="cb12"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>df </span></code></pre></div>
<div class="output execute_result" data-execution_count="75">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>round</th>
      <th>pick</th>
      <th>team</th>
      <th>player</th>
      <th>position</th>
      <th>age</th>
      <th>played_until</th>
      <th>all_pro</th>
      <th>pro_bowl</th>
      <th>...</th>
      <th>rush_att</th>
      <th>rush_yards</th>
      <th>rush_tds</th>
      <th>receptions</th>
      <th>rec_yards</th>
      <th>rec_tds</th>
      <th>interceptions</th>
      <th>sacks</th>
      <th>tackles</th>
      <th>college</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1970</td>
      <td>1</td>
      <td>1</td>
      <td>PIT</td>
      <td>Terry Bradshaw</td>
      <td>QB</td>
      <td>22</td>
      <td>1983</td>
      <td>1</td>
      <td>3</td>
      <td>...</td>
      <td>444</td>
      <td>2257</td>
      <td>32</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>Louisiana Tech</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1970</td>
      <td>1</td>
      <td>2</td>
      <td>GB</td>
      <td>Mike McCoy</td>
      <td>DT</td>
      <td>22</td>
      <td>1980</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>Notre Dame</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1970</td>
      <td>1</td>
      <td>3</td>
      <td>CLE</td>
      <td>Mike Phipps</td>
      <td>QB</td>
      <td>22</td>
      <td>1981</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>254</td>
      <td>1278</td>
      <td>13</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>Purdue</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1970</td>
      <td>1</td>
      <td>4</td>
      <td>BOS</td>
      <td>Phil Olsen</td>
      <td>DT</td>
      <td>22</td>
      <td>1976</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>Utah St.</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1970</td>
      <td>1</td>
      <td>5</td>
      <td>BUF</td>
      <td>Al Cowlings</td>
      <td>DE</td>
      <td>23</td>
      <td>1979</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>USC</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>15768</th>
      <td>2021</td>
      <td>7</td>
      <td>255</td>
      <td>NO</td>
      <td>Kawaan Baker</td>
      <td>WR</td>
      <td>23</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>South Alabama</td>
    </tr>
    <tr>
      <th>15769</th>
      <td>2021</td>
      <td>7</td>
      <td>256</td>
      <td>GB</td>
      <td>Kylin Hill</td>
      <td>RB</td>
      <td>23</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>Mississippi St.</td>
    </tr>
    <tr>
      <th>15770</th>
      <td>2021</td>
      <td>7</td>
      <td>257</td>
      <td>DET</td>
      <td>Jermar Jefferson</td>
      <td>RB</td>
      <td>21</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>Oregon St.</td>
    </tr>
    <tr>
      <th>15771</th>
      <td>2021</td>
      <td>7</td>
      <td>258</td>
      <td>WAS</td>
      <td>Dax Milne</td>
      <td>WR</td>
      <td>22</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>BYU</td>
    </tr>
    <tr>
      <th>15772</th>
      <td>2021</td>
      <td>7</td>
      <td>259</td>
      <td>TB</td>
      <td>Grant Stuard</td>
      <td>LB</td>
      <td>22</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>Houston</td>
    </tr>
  </tbody>
</table>
<p>15773 rows × 29 columns</p>
</div>
</div>
</div>
<div id="442261bd" class="cell markdown">
<h3
id="using-dfinfo-and-dfdescribe-to-verify-everything-looks-good">Using
df.info() and df.describe() to verify everything looks good:</h3>
</div>
<div id="9c1569f3" class="cell code" data-execution_count="76">
<div class="sourceCode" id="cb13"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.info())</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.describe())</span></code></pre></div>
<div class="output stream stdout">
<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 15773 entries, 0 to 15772
Data columns (total 29 columns):
 #   Column         Non-Null Count  Dtype  
---  ------         --------------  -----  
 0   year           15773 non-null  int64  
 1   round          15773 non-null  int64  
 2   pick           15773 non-null  int64  
 3   team           15773 non-null  object 
 4   player         15773 non-null  object 
 5   position       15773 non-null  object 
 6   age            15773 non-null  int64  
 7   played_until   15773 non-null  int64  
 8   all_pro        15773 non-null  int64  
 9   pro_bowl       15773 non-null  int64  
 10  starter        15773 non-null  int64  
 11  carAV          15773 non-null  int64  
 12  drAV           15773 non-null  int64  
 13  games          15773 non-null  int64  
 14  pass_comp      15773 non-null  int64  
 15  pass_att       15773 non-null  int64  
 16  pass_yards     15773 non-null  int64  
 17  pass_tds       15773 non-null  int64  
 18  pass_int       15773 non-null  int64  
 19  rush_att       15773 non-null  int64  
 20  rush_yards     15773 non-null  int64  
 21  rush_tds       15773 non-null  int64  
 22  receptions     15773 non-null  int64  
 23  rec_yards      15773 non-null  int64  
 24  rec_tds        15773 non-null  int64  
 25  interceptions  15773 non-null  int64  
 26  sacks          15773 non-null  float64
 27  tackles        15773 non-null  float64
 28  college        15773 non-null  object 
dtypes: float64(2), int64(23), object(4)
memory usage: 3.5+ MB
None
               year         round          pick           age  played_until  \
count  15773.000000  15773.000000  15773.000000  15773.000000  15773.000000   
mean    1992.702847      5.935016    159.914157     22.346478   1469.833830   
std       15.373134      3.747688    101.701944      0.768610    882.849061   
min     1970.000000      1.000000      1.000000     20.000000      0.000000   
25%     1979.000000      3.000000     76.000000     22.000000      0.000000   
50%     1991.000000      5.000000    152.000000     22.000000   1991.000000   
75%     2006.000000      8.000000    228.000000     23.000000   2009.000000   
max     2021.000000     17.000000    487.000000     29.000000   2020.000000   

            all_pro      pro_bowl       starter         carAV          drAV  \
count  15773.000000  15773.000000  15773.000000  15773.000000  15773.000000   
mean       0.067457      0.252837      1.688392     13.379192      9.514423   
std        0.446492      1.062994      2.969490     21.666162     17.914010   
min        0.000000      0.000000      0.000000     -4.000000     -4.000000   
25%        0.000000      0.000000      0.000000      0.000000      0.000000   
50%        0.000000      0.000000      0.000000      3.000000      1.000000   
75%        0.000000      0.000000      2.000000     18.000000     11.000000   
max       10.000000     14.000000     19.000000    179.000000    170.000000   

       ...      pass_int      rush_att    rush_yards      rush_tds  \
count  ...  15773.000000  15773.000000  15773.000000  15773.000000   
mean   ...      1.302859     36.352311    148.317568      1.069042   
std    ...     12.262722    201.866544    844.845863      6.232914   
min    ...      0.000000      0.000000    -36.000000      0.000000   
25%    ...      0.000000      0.000000      0.000000      0.000000   
50%    ...      0.000000      0.000000      0.000000      0.000000   
75%    ...      0.000000      0.000000      0.000000      0.000000   
max    ...    336.000000   4409.000000  18355.000000    164.000000   

         receptions     rec_yards       rec_tds  interceptions         sacks  \
count  15773.000000  15773.000000  15773.000000   15773.000000  15773.000000   
mean      22.727065    270.399480      1.627211       1.308755      2.464458   
std       87.558919   1132.189155      7.485517       4.871311     10.245027   
min        0.000000    -19.000000      0.000000       0.000000      0.000000   
25%        0.000000      0.000000      0.000000       0.000000      0.000000   
50%        0.000000      0.000000      0.000000       0.000000      0.000000   
75%        0.000000      0.000000      0.000000       0.000000      0.000000   
max     1549.000000  22895.000000    197.000000      71.000000    200.000000   

            tackles  
count  15773.000000  
mean      27.605148  
std       93.969341  
min        0.000000  
25%        0.000000  
50%        0.000000  
75%        1.000000  
max     1568.000000  

[8 rows x 25 columns]
</code></pre>
</div>
</div>
<div id="3d702599" class="cell markdown">
<h2 id="analysis-questions">Analysis Questions:</h2>
<h3
id="1-has-the-average-draft-round-of-certain-positions-qbs-lbs-wrs-and-rbs-shifted-over-the-decades">1.
Has the average draft round of certain positions (QBs, LBs, WRs, and
RBs) shifted over the decades?</h3>
</div>
<div id="016f487a" class="cell code" data-execution_count="77">
<div class="sourceCode" id="cb15"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#1:</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;decade&#39;</span>] <span class="op">=</span> (df[<span class="st">&#39;year&#39;</span>] <span class="op">//</span> <span class="dv">10</span>) <span class="op">*</span> <span class="dv">10</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>mean_round <span class="op">=</span> (df.groupby([<span class="st">&#39;decade&#39;</span>, <span class="st">&#39;position&#39;</span>])[<span class="st">&#39;round&#39;</span>].mean().reset_index())</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>pivot <span class="op">=</span> mean_round.pivot(index<span class="op">=</span><span class="st">&#39;decade&#39;</span>, columns<span class="op">=</span><span class="st">&#39;position&#39;</span>, values<span class="op">=</span><span class="st">&#39;round&#39;</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>positions_of_interest <span class="op">=</span> [<span class="st">&#39;QB&#39;</span>,<span class="st">&#39;LB&#39;</span>,<span class="st">&#39;WR&#39;</span>,<span class="st">&#39;RB&#39;</span>]</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>pivot[positions_of_interest].plot(marker<span class="op">=</span><span class="st">&#39;o&#39;</span>, figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">6</span>))</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Average Draft Round by Decade and Position&#39;</span>)</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Decade&#39;</span>)</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Average Round&#39;</span>)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>plt.legend(title<span class="op">=</span><span class="st">&#39;Position&#39;</span>)</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_fddae5917a2a416ebbc3cfcc49b3aabf/6dd8185f197ea2a688f3ab0a96af535149dde051.png" /></p>
</div>
</div>
<div id="d97ecad3" class="cell markdown">
<p><strong>Insights for Question 1:</strong></p>
<ul>
<li>The drop in the data is largely due to the fact that the NFL changed
the amount of rounds per draft: From 17 to 12 in 1978, then to 8 rounds
for 1 year in 1983, then finally to 7 rounds in 1994.</li>
<li>Taking this into account, teams have still trended to selecting QBs
and WRs earlier compared to other positions.</li>
<li>There is a slight jump in the data for RBs in the 2010s. This may
reflect a change in strategies in the NFL like teams becoming more
pass-heavy.</li>
</ul>
</div>
<div id="739a731b" class="cell markdown">
<h3
id="2-whats-the-distribution-of-career-av-approximate-value-by-draft-round">2.
What’s the distribution of career AV (Approximate Value) by draft
round?</h3>
</div>
<div id="187ed614" class="cell code">
<div class="sourceCode" id="cb16"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">#2:</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>,<span class="dv">6</span>))</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>df.boxplot(column<span class="op">=</span><span class="st">&#39;carAV&#39;</span>, by<span class="op">=</span><span class="st">&#39;round&#39;</span>, showfliers<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">&#39;&#39;</span>)  <span class="co"># remove default title</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Career AV Distribution by Draft Round&#39;</span>)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Draft Round&#39;</span>)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Career Approximate Value (AV)&#39;</span>)</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<pre><code>&lt;Figure size 1200x600 with 0 Axes&gt;</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_fddae5917a2a416ebbc3cfcc49b3aabf/f7945181d96f5bf16010211bd9d971492f4a6ec4.png" /></p>
</div>
</div>
<div id="b3a936db" class="cell markdown">
<p><strong>Insights for Question 2:</strong></p>
<ul>
<li>The median declines rapidly from 35-40 in round 1, to below 10 by
round 3 and gets closer to 0 in later rounds.</li>
<li>In the later rounds, there are individual players whose career AV
are higher than those in earlier rounds. These are the "hidden gems" I
will look at in question 4.</li>
</ul>
</div>
<div id="3ac7d26e" class="cell markdown">
<h3
id="3-what-percentage-of-drafted-players-at-each-position-played-at-least-50-games">3.
What percentage of drafted players at each position played at least 50
games?</h3>
</div>
<div id="32d61506" class="cell code">
<div class="sourceCode" id="cb18"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#3. </span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;played_50&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;games&#39;</span>] <span class="op">&gt;=</span> <span class="dv">50</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>pos_summary <span class="op">=</span> (</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    df.groupby(<span class="st">&#39;position&#39;</span>)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>      .agg(</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>          total_players <span class="op">=</span> (<span class="st">&#39;position&#39;</span>, <span class="st">&#39;size&#39;</span>),</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>          pct_played_50  <span class="op">=</span> (<span class="st">&#39;played_50&#39;</span>, <span class="kw">lambda</span> x: x.mean() <span class="op">*</span> <span class="dv">100</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>      .sort_values(<span class="st">&#39;pct_played_50&#39;</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>pos_summary_2 <span class="op">=</span> pos_summary[pos_summary[<span class="st">&#39;total_players&#39;</span>] <span class="op">&gt;=</span> <span class="dv">50</span>]</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(pos_summary_2)</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">6</span>))</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>pos_summary_2[<span class="st">&#39;pct_played_50&#39;</span>].plot(kind<span class="op">=</span><span class="st">&#39;bar&#39;</span>)</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;</span><span class="sc">% o</span><span class="st">f Players by Position with ≥50 Career Games (Positions ≥50 Players)&#39;</span>)</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Position&#39;</span>)</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Percentage of Players (%)&#39;</span>)</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
<div class="output stream stdout">
<pre><code>          total_players  pct_played_50
position                              
FB                   88      60.227273
NT                  138      47.101449
OLB                  73      43.835616
P                   162      43.827160
DE                 1275      42.901961
DB                 2489      42.587384
C                   440      42.500000
LB                 2001      40.829585
TE                  888      40.202703
G                   991      38.244198
T                  1145      37.816594
K                   184      36.413043
DT                 1006      35.785288
RB                 1764      31.519274
WR                 1915      31.383812
QB                  738      25.474255
S                   128      24.218750
CB                  189      19.576720
OL                   74      12.162162
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_fddae5917a2a416ebbc3cfcc49b3aabf/30d495898facf3a094f6d987ef8da4defe0fc85a.png" /></p>
</div>
</div>
<div id="2f027a5f" class="cell markdown">
<p><strong>Insights for Question 3:</strong></p>
<ul>
<li>Interior defensive players (Note Tackles, Outside Linebackers,
Defensive Ends, and Defensive Backs) all have a fairly high percentage,
suggesting they are valuable.</li>
<li>Fullbacks (FB) are the highest percentage, but there are only 88 FBs
ever drafted because it is a rarely used position.</li>
<li>Quarterbacks (QB) and Wide Recievers (WR) both have fairly low
percentages, reflecting how competitive these positions are and how
difficult it is for a player to sustain peak performance.</li>
</ul>
</div>
<div id="d591850a" class="cell markdown">
<h3
id="4-which-franchise-finds-the-most-hidden-gems-players-drafted-after-round-5-who-became-all-pros-andor-made-the-pro-bowl">4.
Which franchise finds the most “hidden gems"? (Players drafted after
round 5 who became All-Pros and/or made the Pro Bowl?)</h3>
</div>
<div id="fc65e9c5" class="cell code">
<div class="sourceCode" id="cb20"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#4:</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>hidden_gems <span class="op">=</span> df[(df[<span class="st">&#39;round&#39;</span>] <span class="op">&gt;</span> <span class="dv">5</span>) <span class="op">&amp;</span> ((df[<span class="st">&#39;all_pro&#39;</span>] <span class="op">&gt;</span> <span class="dv">0</span>) <span class="op">|</span> (df[<span class="st">&#39;pro_bowl&#39;</span>] <span class="op">&gt;</span> <span class="dv">0</span>))]</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>gems_per_team <span class="op">=</span> hidden_gems[<span class="st">&#39;team&#39;</span>].value_counts().rename(<span class="st">&#39;hidden_gems&#39;</span>)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(gems_per_team.head(<span class="dv">10</span>))</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>gems_per_team.head(<span class="dv">10</span>).plot(kind<span class="op">=</span><span class="st">&#39;bar&#39;</span>, figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">6</span>))</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Top 10 Franchises by Late-Round Hidden Gems&#39;</span>)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Team&#39;</span>)</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Number of Hidden Gems&#39;</span>)</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
<div class="output stream stdout">
<pre><code>team
MIA    16
GB     11
MIN    11
SF     11
DEN    10
DAL     9
WAS     9
PHI     9
NE      8
PIT     8
Name: hidden_gems, dtype: int64
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_fddae5917a2a416ebbc3cfcc49b3aabf/c2120862b472b488dc2e62aebb9343e89e02063c.png" /></p>
</div>
</div>
<div id="1831f5d0" class="cell markdown">
<p><strong>Insights for Question 4:</strong></p>
<ul>
<li>The Miami Dolphins lead by 5 with 16 hidden gems with the Green Bay
Packers, Minnesota Vikings, and San Francisco 49ers ties at second.</li>
<li>As expected, most of the teams in the top 10 are older NFL teams,
with the youngest actually being the Miami Dolphins at number 1.</li>
</ul>
</div>
<div id="6cf4876c" class="cell markdown">
<h3
id="5-identify-the-best-and-worst-drafts-year--team-in-terms-of-total-av-yield">5.
Identify the “best” and “worst” drafts (year + team) in terms of total
AV yield.</h3>
</div>
<div id="4df31950" class="cell code">
<div class="sourceCode" id="cb22"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#5:</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>df_no21 <span class="op">=</span> df[df[<span class="st">&#39;year&#39;</span>] <span class="op">!=</span> <span class="dv">2021</span>]</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>av_by_draft <span class="op">=</span> (</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    df_no21</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    .groupby([<span class="st">&#39;year&#39;</span>,<span class="st">&#39;team&#39;</span>])[<span class="st">&#39;carAV&#39;</span>]</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    .<span class="bu">sum</span>()</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    .reset_index(name<span class="op">=</span><span class="st">&#39;total_AV&#39;</span>)</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Top 5 drafts</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>best_overall <span class="op">=</span> av_by_draft.nlargest(<span class="dv">5</span>, <span class="st">&#39;total_AV&#39;</span>)</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Top 5 Drafts (excl. 2021):&quot;</span>)</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(best_overall)</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Bottom 5 drafts</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>worst_overall <span class="op">=</span> av_by_draft.nsmallest(<span class="dv">5</span>, <span class="st">&#39;total_AV&#39;</span>)</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">Bottom 5 Drafts (excl. 2021):&quot;</span>)</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(worst_overall)</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
<div class="output stream stdout">
<pre><code>Top 5 Drafts (excl. 2021):
     year team  total_AV
483  1987  PIT       508
46   1971  PIT       494
136  1975  DAL       471
355  1983  CHI       456
124  1974  PIT       454

Bottom 5 Drafts (excl. 2021):
      year team  total_AV
141   1975   KC         0
211   1977  WAS         0
183   1976  WAS         2
541   1989  RAI         2
1489  2020  HOU         2
</code></pre>
</div>
</div>
<div id="e7b799da" class="cell code">
<div class="sourceCode" id="cb24"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#5 Graph: </span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">14</span>,<span class="dv">6</span>), sharey<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>best_overall.set_index([<span class="st">&#39;year&#39;</span>,<span class="st">&#39;team&#39;</span>])[<span class="st">&#39;total_AV&#39;</span>] <span class="op">\</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    .plot(kind<span class="op">=</span><span class="st">&#39;bar&#39;</span>, ax<span class="op">=</span>axes[<span class="dv">0</span>], title<span class="op">=</span><span class="st">&#39;Top 5 Drafts (excl. 2021)&#39;</span>)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_xlabel(<span class="st">&#39;Year, Team&#39;</span>)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_ylabel(<span class="st">&#39;Total Career AV&#39;</span>)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>worst_overall.set_index([<span class="st">&#39;year&#39;</span>,<span class="st">&#39;team&#39;</span>])[<span class="st">&#39;total_AV&#39;</span>] <span class="op">\</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>    .plot(kind<span class="op">=</span><span class="st">&#39;bar&#39;</span>, ax<span class="op">=</span>axes[<span class="dv">1</span>], title<span class="op">=</span><span class="st">&#39;Bottom 5 Drafts (excl. 2021)&#39;</span>, color<span class="op">=</span><span class="st">&#39;orange&#39;</span>)</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].set_xlabel(<span class="st">&#39;Year, Team&#39;</span>)</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_fddae5917a2a416ebbc3cfcc49b3aabf/40cee31e7f82186cb6a72189a89a6cfbec93bd8c.png" /></p>
</div>
</div>
<div id="f461e1d0" class="cell markdown">
<p><strong>Insights from Question 5:</strong></p>
<ul>
<li>The Pittsburgh Steelers had some very good drafts in the 70s and
80s, holding the 1st, 2nd, and 5th spot</li>
<li>Washington had 2 of the worst drafts ever back to back in 1976 and
1977.</li>
</ul>
</div>
<div id="b9e8e3c3" class="cell markdown">
<h3
id="6-analyze-the-distribution-of-played_until--year-career-span-and-see-how-its-evolved-eg-longer-careers-today">6.
Analyze the distribution of “played_until – year” (career span) and see
how it’s evolved (e.g. longer careers today?).</h3>
</div>
<div id="894e236c" class="cell code">
<div class="sourceCode" id="cb25"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#6:</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;career_span&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;played_until&#39;</span>] <span class="op">-</span> df[<span class="st">&#39;year&#39;</span>]</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df[df[<span class="st">&#39;career_span&#39;</span>].between(<span class="dv">0</span>, <span class="dv">30</span>)]</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Box Plot</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>,<span class="dv">6</span>))</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>df.boxplot(column<span class="op">=</span><span class="st">&#39;career_span&#39;</span>, by<span class="op">=</span><span class="st">&#39;decade&#39;</span>)</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">&#39;&#39;</span>)</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Career Span (Years) by Draft Decade&#39;</span>)</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Draft Decade&#39;</span>)</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Career Span (Years)&#39;</span>)</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<pre><code>&lt;Figure size 1200x600 with 0 Axes&gt;</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_fddae5917a2a416ebbc3cfcc49b3aabf/7ddc16645dab8434d01f9d98ef8dad77f84c3156.png" /></p>
</div>
</div>
<div id="1aac81ce" class="cell markdown">
<p><strong>Insights for Question 6:</strong></p>
<ul>
<li>The median for each decade is right around 5 except for 2010 and
2020 because the data only goes to 2021, so the average NFL career is
about 4-5 years, looking only from 1970 - 2000.</li>
<li>The player with the longest career played 25 seasons, with only 2
others also above 20 years.</li>
<li>From 1970s to 2000s, the graphs are very similar with the exception
of outliers. So, this shows the average length of an NFL career has had
little-to-no change</li>
</ul>
</div>
</body>
</html>
